<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1726px" preserveAspectRatio="none" style="width:848px;height:1726px;" version="1.1" viewBox="0 0 848 1726" width="848px" zoomAndPan="magnify"><defs><filter height="300%" id="f13f23ekgkzb5b" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="318.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="223.9609"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="296.0938"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="417.3594"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="475.625"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="263.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="533.8906"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="571.0234"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="733.6875"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="182.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="826.9531"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="234.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="1038.8828"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1076.0156"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1217.4141"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="365.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="1302.5469"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1429.9453"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1533.2109"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="456" y="122.6953"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="608" y="151.8281"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="608" y="1355.8125"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697.5" y="360.2266"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697.5" y="1597.3438"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="790" y="1164.2813"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="790" y="1640.4766"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="103.3984" style="stroke: #000000; stroke-width: 2.0;" width="509" x="142" y="84.4297"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="452" x="6" y="621.0234"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="139.6641" style="stroke: #000000; stroke-width: 2.0;" width="393" x="6" y="841.9531"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="108.5313" style="stroke: #000000; stroke-width: 2.0;" width="308" x="6" y="866.0859"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="298" x="6" y="890.2188"/><rect fill="#FFFFFF" height="31.1328" style="stroke: none; stroke-width: 1.0;" width="308" x="6" y="943.4844"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="134.3984" style="stroke: #000000; stroke-width: 2.0;" width="694" x="142" y="1126.0156"/><rect fill="#FFFFFF" height="74.1328" style="stroke: none; stroke-width: 1.0;" width="694" x="142" y="1186.2813"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="76.2656" style="stroke: #000000; stroke-width: 2.0;" width="509" x="142" y="1317.5469"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="17.1328" style="stroke: #000000; stroke-width: 2.0;" width="338" x="162" y="1479.9453"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="177" x2="177" y1="38.2969" y2="1686.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="461" x2="461" y1="38.2969" y2="1686.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="613" x2="613" y1="38.2969" y2="1686.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="702" x2="702" y1="38.2969" y2="1686.4766"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="795" x2="795" y1="38.2969" y2="1686.4766"/><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="152" y="3"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="159" y="22.9951">Field</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="46" x="152" y="1685.4766"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="32" x="159" y="1705.4717">Field</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="409" y="3"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="416" y="22.9951">GameObject</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="100" x="409" y="1685.4766"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="86" x="416" y="1705.4717">GameObject</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="585" y="3"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="592" y="22.9951">Block</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="52" x="585" y="1685.4766"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="38" x="592" y="1705.4717">Block</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="651" y="3"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="658" y="22.9951">IStatusPanel</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="99" x="651" y="1685.4766"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="85" x="658" y="1705.4717">IStatusPanel</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="764" y="3"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="771" y="22.9951">IPlayer</text><rect fill="#FEFECE" filter="url(#f13f23ekgkzb5b)" height="30.2969" style="stroke: #A80036; stroke-width: 1.5;" width="58" x="764" y="1685.4766"/>
<text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="44" x="771" y="1705.4717">IPlayer</text><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="318.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="69.4297"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="223.9609"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="296.0938"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="417.3594"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="29.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="475.625"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="263.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="533.8906"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="571.0234"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="733.6875"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="182.7969" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="826.9531"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="234.5313" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="1038.8828"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1076.0156"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1217.4141"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="365.9297" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="172" y="1302.5469"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1429.9453"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="28" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="177" y="1533.2109"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="57.1328" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="456" y="122.6953"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="608" y="151.8281"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="30" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="608" y="1355.8125"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697.5" y="360.2266"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="697.5" y="1597.3438"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="790" y="1164.2813"/><rect fill="#FFFFFF" filter="url(#f13f23ekgkzb5b)" height="14" style="stroke: #A80036; stroke-width: 1.0;" width="10" x="790" y="1640.4766"/><polygon fill="#A80036" points="160,65.4297,170,69.4297,160,73.4297,164,69.4297" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="69.4297" y2="69.4297"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="10" y="64.3638">ResetField</text><path d="M142,84.4297 L212,84.4297 L212,91.4297 L202,101.4297 L142,101.4297 L142,84.4297 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="103.3984" style="stroke: #000000; stroke-width: 2.0;" width="509" x="142" y="84.4297"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="157" y="97.4966">opt</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="349" x="227" y="96.6401">[Block のインスタンスがFiled インスタンスに関連付けられたまま]</text><polygon fill="#A80036" points="444,118.6953,454,122.6953,444,126.6953,448,122.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182" x2="450" y1="122.6953" y2="122.6953"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="50" x="189" y="117.6294">Destroy</text><polygon fill="#A80036" points="596,147.8281,606,151.8281,596,155.8281,600,151.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="466" x2="602" y1="151.8281" y2="151.8281"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="123" x="473" y="146.7622">GameObject を削除</text><polygon fill="#A80036" points="477,161.8281,467,165.8281,477,169.8281,473,165.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="471" x2="612" y1="165.8281" y2="165.8281"/><polygon fill="#A80036" points="193,175.8281,183,179.8281,193,183.8281,189,179.8281" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="187" x2="460" y1="179.8281" y2="179.8281"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="215.9609" y2="215.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="215.9609" y2="228.9609"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="228.9609" y2="228.9609"/><polygon fill="#A80036" points="198,224.9609,188,228.9609,198,232.9609,194,228.9609" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="194" y="210.895">マップを再生成</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="288.0938" y2="288.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="288.0938" y2="301.0938"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="301.0938" y2="301.0938"/><polygon fill="#A80036" points="198,297.0938,188,301.0938,198,305.0938,194,301.0938" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="65" x="194" y="283.0278">外壁を構築</text><polygon fill="#A80036" points="685.5,356.2266,695.5,360.2266,685.5,364.2266,689.5,360.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182" x2="691.5" y1="360.2266" y2="360.2266"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="73" x="189" y="355.1606">ResetScore</text><polygon fill="#A80036" points="193,370.2266,183,374.2266,193,378.2266,189,374.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="187" x2="701.5" y1="374.2266" y2="374.2266"/><polygon fill="#A80036" points="14,384.2266,4,388.2266,14,392.2266,10,388.2266" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="388.2266" y2="388.2266"/><polygon fill="#A80036" points="160,413.3594,170,417.3594,160,421.3594,164,417.3594" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="417.3594" y2="417.3594"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="35" x="10" y="412.2935">Width</text><polygon fill="#A80036" points="14,442.4922,4,446.4922,14,450.4922,10,446.4922" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="446.4922" y2="446.4922"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="130" x="20" y="441.4263">フィールドの幅を返す</text><polygon fill="#A80036" points="160,471.625,170,475.625,160,479.625,164,475.625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="475.625" y2="475.625"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="42" x="10" y="470.5591">Height</text><polygon fill="#A80036" points="14,500.7578,4,504.7578,14,508.7578,10,504.7578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="504.7578" y2="504.7578"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="20" y="499.6919">フィールドの高さを返す</text><polygon fill="#A80036" points="160,529.8906,170,533.8906,160,537.8906,164,533.8906" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="533.8906" y2="533.8906"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="63" x="10" y="528.8247">SetBlocks</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="563.0234" y2="563.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="563.0234" y2="576.0234"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="576.0234" y2="576.0234"/><polygon fill="#A80036" points="198,572.0234,188,576.0234,198,580.0234,194,576.0234" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="182" x="194" y="557.9575">設置できるかどうかを確認する</text><path d="M6,621.0234 L76,621.0234 L76,628.0234 L66,638.0234 L6,638.0234 L6,621.0234 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="452" x="6" y="621.0234"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="21" y="634.0903">opt</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="362" x="91" y="633.2339">[障害物があって設置できないか、ボーダーラインを超えてしまっている]</text><polygon fill="#A80036" points="14,655.2891,4,659.2891,14,663.2891,10,659.2891" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="171" y1="659.2891" y2="659.2891"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="20" y="654.2231">true</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="725.6875" y2="725.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="725.6875" y2="738.6875"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="738.6875" y2="738.6875"/><polygon fill="#A80036" points="198,734.6875,188,738.6875,198,742.6875,194,738.6875" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="194" y="690.356">実際に設置し、</text>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="233" x="194" y="705.4888">Block インスタンスの親オブジェクトを</text>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="254" x="194" y="720.6216">このField クラスのインスタンスに設定する</text><polygon fill="#A80036" points="14,793.8203,4,797.8203,14,801.8203,10,797.8203" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="797.8203" y2="797.8203"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="20" y="792.7544">false</text><polygon fill="#A80036" points="160,822.9531,170,826.9531,160,830.9531,164,826.9531" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="826.9531" y2="826.9531"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="28" x="10" y="821.8872">IsHit</text><path d="M6,841.9531 L83,841.9531 L83,848.9531 L73,858.9531 L6,858.9531 L6,841.9531 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="139.6641" style="stroke: #000000; stroke-width: 2.0;" width="393" x="6" y="841.9531"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="21" y="855.02">loop</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="296" x="98" y="854.1636">[設置しようとしている各ポイントについて処理を実行する]</text><path d="M6,866.0859 L70,866.0859 L70,873.0859 L60,883.0859 L6,883.0859 L6,866.0859 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="108.5313" style="stroke: #000000; stroke-width: 2.0;" width="308" x="6" y="866.0859"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="19" x="21" y="879.1528">alt</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="85" y="878.2964">[そのポイントがフィールドの内部である]</text><path d="M6,890.2188 L76,890.2188 L76,897.2188 L66,907.2188 L6,907.2188 L6,890.2188 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="46.2656" style="stroke: #000000; stroke-width: 2.0;" width="298" x="6" y="890.2188"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="21" y="903.2856">opt</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="208" x="91" y="902.4292">[既にその場所にブロックが存在している]</text><polygon fill="#A80036" points="14,924.4844,4,928.4844,14,932.4844,10,928.4844" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="171" y1="928.4844" y2="928.4844"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="20" y="923.4185">true</text><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="6" x2="314" y1="944.4844" y2="944.4844"/><polygon fill="#A80036" points="14,962.6172,4,966.6172,14,970.6172,10,966.6172" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="171" y1="966.6172" y2="966.6172"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="26" x="20" y="961.5513">true</text><polygon fill="#A80036" points="14,1005.75,4,1009.75,14,1013.75,10,1009.75" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="1009.75" y2="1009.75"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="30" x="20" y="1004.6841">false</text><polygon fill="#A80036" points="160,1034.8828,170,1038.8828,160,1042.8828,164,1038.8828" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="1038.8828" y2="1038.8828"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="80" x="10" y="1033.8169">ReduceLines</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="1068.0156" y2="1068.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="1068.0156" y2="1081.0156"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="1081.0156" y2="1081.0156"/><polygon fill="#A80036" points="198,1077.0156,188,1081.0156,198,1085.0156,194,1081.0156" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="91" x="194" y="1062.9497">削除判定をする</text><path d="M142,1126.0156 L212,1126.0156 L212,1133.0156 L202,1143.0156 L142,1143.0156 L142,1126.0156 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="134.3984" style="stroke: #000000; stroke-width: 2.0;" width="694" x="142" y="1126.0156"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="25" x="157" y="1139.0825">opt</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="109" x="227" y="1138.2261">[削除される行がない]</text><polygon fill="#A80036" points="778,1160.2813,788,1164.2813,778,1168.2813,782,1164.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182" x2="784" y1="1164.2813" y2="1164.2813"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="189" y="1159.2153">PullNextBlock</text><polygon fill="#A80036" points="193,1174.2813,183,1178.2813,193,1182.2813,189,1178.2813" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="187" x2="794" y1="1178.2813" y2="1178.2813"/><line style="stroke: #000000; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="142" x2="836" y1="1187.2813" y2="1187.2813"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="1209.4141" y2="1209.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="1209.4141" y2="1222.4141"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="1222.4141" y2="1222.4141"/><polygon fill="#A80036" points="198,1218.4141,188,1222.4141,198,1226.4141,194,1222.4141" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="201" x="194" y="1204.3481">StartCoroutine(CoReduceLines)</text><polygon fill="#A80036" points="14,1269.4141,4,1273.4141,14,1277.4141,10,1273.4141" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="1273.4141" y2="1273.4141"/><polygon fill="#A80036" points="160,1298.5469,170,1302.5469,160,1306.5469,164,1302.5469" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="3" x2="166" y1="1302.5469" y2="1302.5469"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="97" x="10" y="1297.481">CoReduceLines</text><path d="M142,1317.5469 L219,1317.5469 L219,1324.5469 L209,1334.5469 L142,1334.5469 L142,1317.5469 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="76.2656" style="stroke: #000000; stroke-width: 2.0;" width="509" x="142" y="1317.5469"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="157" y="1330.6138">loop</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="186" x="234" y="1329.7573">[削除するブロックに対して実行する]</text><polygon fill="#A80036" points="596,1351.8125,606,1355.8125,596,1359.8125,600,1355.8125" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182" x2="602" y1="1355.8125" y2="1355.8125"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="52" x="189" y="1350.7466">Remove</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="1421.9453" y2="1421.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="1421.9453" y2="1434.9453"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="1434.9453" y2="1434.9453"/><polygon fill="#A80036" points="198,1430.9453,188,1434.9453,198,1438.9453,194,1434.9453" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="260" x="194" y="1416.8794">ブロックを消し始めてから一定時間待機する</text><path d="M162,1479.9453 L239,1479.9453 L239,1486.9453 L229,1496.9453 L162,1496.9453 L162,1479.9453 " fill="#EEEEEE" style="stroke: #000000; stroke-width: 1.0;"/><rect fill="none" height="17.1328" style="stroke: #000000; stroke-width: 2.0;" width="338" x="162" y="1479.9453"/>
<text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="32" x="177" y="1493.0122">loop</text>
<text fill="#000000" font-family="sans-serif" font-size="11" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="241" x="254" y="1492.1558">[残ったブロックを少しずつ下にスライドさせる]</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="187" x2="229" y1="1525.2109" y2="1525.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="229" x2="229" y1="1525.2109" y2="1538.2109"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="188" x2="229" y1="1538.2109" y2="1538.2109"/><polygon fill="#A80036" points="198,1534.2109,188,1538.2109,198,1542.2109,194,1538.2109" style="stroke: #A80036; stroke-width: 1.0;"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="143" x="194" y="1520.145">内部のマップを更新する</text><polygon fill="#A80036" points="685.5,1593.3438,695.5,1597.3438,685.5,1601.3438,689.5,1597.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182" x2="691.5" y1="1597.3438" y2="1597.3438"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="189" y="1592.2778">AddScore</text><polygon fill="#A80036" points="193,1607.3438,183,1611.3438,193,1615.3438,189,1611.3438" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="187" x2="701.5" y1="1611.3438" y2="1611.3438"/><polygon fill="#A80036" points="778,1636.4766,788,1640.4766,778,1644.4766,782,1640.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="182" x2="784" y1="1640.4766" y2="1640.4766"/>
<text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="86" x="189" y="1635.4106">PullNextBlock</text><polygon fill="#A80036" points="193,1650.4766,183,1654.4766,193,1658.4766,189,1654.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="187" x2="794" y1="1654.4766" y2="1654.4766"/><polygon fill="#A80036" points="14,1664.4766,4,1668.4766,14,1672.4766,10,1668.4766" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 2.0,2.0;" x1="8" x2="176" y1="1668.4766" y2="1668.4766"/><!--MD5=[5e0c8418b2bec2863728bc43f16b4ebd]
@startuml

[-> Field : ResetField
activate Field
    opt Block のインスタンスがFiled インスタンスに関連付けられたまま
        Field -> GameObject : Destroy
        activate GameObject
            GameObject -> Block : GameObject を削除
            activate Block
                GameObject <- - Block
            deactivate Block
            Field <- - GameObject
        deactivate GameObject
    end
    Field -> Field : マップを再生成
    activate Field
    deactivate Field
    Field -> Field : 外壁を構築
    activate Field
    deactivate Field
    Field -> IStatusPanel : ResetScore
    activate IStatusPanel
        Field <- - IStatusPanel
    deactivate IStatusPanel
    [<- - Field
deactivate Field

[-> Field : Width
activate Field
    [<- - Field : フィールドの幅を返す
deactivate Field

[-> Field : Height
activate Field
    [<- - Field : フィールドの高さを返す
deactivate Field

[-> Field : SetBlocks
activate Field
    Field -> Field : 設置できるかどうかを確認する
    activate Field
    deactivate Field
    opt 障害物があって設置できないか、ボーダーラインを超えてしまっている
        [<- - Field : true
    end
    Field -> Field : 実際に設置し、\nBlock インスタンスの親オブジェクトを\nこのField クラスのインスタンスに設定する
    activate Field
    deactivate Field

    [<- - Field : false
deactivate Field

[-> Field : IsHit
activate Field
    loop 設置しようとしている各ポイントについて処理を実行する
        alt そのポイントがフィールドの内部である
            opt 既にその場所にブロックが存在している
                [<- - Field : true
            end
        else
            [<- - Field : true
        end
    end
    [<- - Field : false
deactivate Field

[-> Field : ReduceLines
activate Field
    Field -> Field : 削除判定をする
    activate Field
    deactivate Field
    opt 削除される行がない
        Field -> IPlayer : PullNextBlock
        activate IPlayer
            Field <- - IPlayer
        deactivate IPlayer
    else
        Field -> Field : StartCoroutine(CoReduceLines)
        activate Field
        deactivate Field
    end

    [<- - Field
deactivate Field

[-> Field : CoReduceLines
activate Field
    loop 削除するブロックに対して実行する
        Field -> Block : Remove
        activate Block
        deactivate Block
    end
    Field -> Field : ブロックを消し始めてから一定時間待機する
    activate Field
    deactivate Field
    loop 残ったブロックを少しずつ下にスライドさせる
    end
    Field -> Field : 内部のマップを更新する
    activate Field
    deactivate Field
    Field -> IStatusPanel : AddScore
    activate IStatusPanel
        Field <- - IStatusPanel
    deactivate IStatusPanel
    Field -> IPlayer : PullNextBlock
    activate IPlayer
        Field <- - IPlayer
    deactivate IPlayer
    [<- - Field
deactivate Field

@enduml

PlantUML version 1.2020.02(Sun Mar 01 10:22:07 GMT 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Java Version: 11.0.9+11-Ubuntu-0ubuntu1
Operating System: Linux
Default Encoding: ANSI_X3.4-1968
Language: en
Country: US
--></g></svg>
